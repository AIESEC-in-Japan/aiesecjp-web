# AIESEC JAPAN コーディング規約

## 概要

コードを書く上で守って欲しいこと、意識して欲しいことを書きます。 その時々の状況によりメンテナンスしてください。
背景とかは下の方に書いてあります。

## coding rules

規約というか、意識して欲しいこと。

### 大前提 レビューしやすいコード、読みやすいコードを心がける

- 余計な空行がない
- フォーマットがされている 
- コードの背景がわかる。 わかりにくいならコメントを残す 
- 変数名は省略しない。わかりやすい変数名を書く。

### やらないこと

- データ構造が複雑で、意識しなければいけないこと、理解しなければいけないことが多いもの
  - map
  - stream
- 使いこなすには難しい概念を理解しなければいけないもの
  - 厳密なatomic design（Pagesとtemplateを分けるなど）
  - 厳密なDDD
- vue/nuxt の思想から大きくぶれるオレオレ実装。
  - 公式のドキュメントを読んでもわからず、一般的なコード規約からも大きく外れている。
- 使用した意図がわからず、読み解くのが難解なコード
  - 対処療法的なバグ回避のためのコード etc

### やること。（許容して欲しいこと）

- 共通化できるものはなるべく共通化し、変更の際のコストを下げる（責務を意識）
  - 同じ責務を持つコードを複数書かない。DRY原則。
- 意図がわかるコードを書く。難しい場合はコメントを残す。
- テストを容易にするためのツールで、中身を理解していなくてもよく、簡単にかけるもの
  - storyBook etc
- 使い方が簡単で開発の生産性を上げるもの。中身を理解しなくても問題ない。
- Vue/Nuxtの公式ドキュメントに記載されている例とほぼ同じ形式で書いている、ドキュメントを読めば理解できるもの
  - vue/nuxt custom html ( `ex nuxt-link, v-bind , @onClick`)
  - plugin
  - computed
  - method ... etc
  
### どうしてもオーバーテクノロジーを使いたい場合

- その書き方をすることで教授できるメリットが、簡単な書き方をするよりも圧倒的に大きい場合。
- 必ずコードの中に解説のコメントを残す（参考ドキュメントも）
- 使用例を残す
- 中身を意識しなくていいように書く
- 後任がそのファイルに変更を加える必要がでてきて、どうしてもわからないなら消せばOKな作りにする（代替可能）


## なんでこんなことを決めるのか

感覚的にこれはダメこれはいいと都度決めていると、コストだし認識にズレが生じて無駄な手戻りが発生します。
事前にルールや基準を決めておくことで、実装ごとに議論する必要がなくなります。


### 人材的な背景

AIESECという団体は、４年で人が入れ替わる。 エンジニア人材も全国に毎年1,2人程度いれば良い方です。（2021年現在）  
HPを内製しメンテナンスし続けていくためには、 興味がある人を教育してメンテナンスができるようになってもらう工程が必要になる。

そのため、このページを初めとするコードの管理も初心者→初級者が行っていくと想定される。

### 作り手にとって簡易なコード≠読みやすいコード

とはいえ、初心者であることを理由にあまりに簡単なコードを書きすぎると、
今できる人の生産性を著しく下げ、数ヶ月後負債だらけになりバグの温床となりメンテナンスコストが爆増するという地獄を見ることになります。

作る人にとって簡単なコードは読む人にとっては簡単ではないことが多いです。
読む人が読みやすいコードを作るのは初心者でもできると思うので意識しましょう。

### 必ず実装コストは増えていく

必ず、長期的に運用していくと新規に何かを作るコストは上がっていきます。
そのコストをいかに抑えるかがプログラマの仕事です。

これを無視してしまうと、今と未来の生産性を落とすのでいい塩梅を考えたいです


### 参考

[和田卓人さんの資料](https://speakerdeck.com/twada/quality-and-speed-2020-spring-edition?slide=31)


## コードを読む人のレベル想定

誰のために。 誰をターゲットと置くのか。
誰にとって読みやすいコードなのかを定義します。

### 対象

- 本業エンジニアではなく、アイセックの現役メンバー
- プログラミングは勉強し始めて半年程度。
- vue,nuxtのコンポーネントはすでに５個以上は自分の力だけで作ったことがある。(SCSS,JSを使っている)
- →vueの基本的な性能(data,method,computed)を一度でも使ったコードを書いたことがある
- WebAppで言うならば、テンプレに沿った最低限の機能でいいので1人でCRUD機能を実装できる人。

まとめると「1人でHPメンテナンスが出来る人」です。


### 対象外

- プログラミングを学び始め、vueのコンポーネントは一つ作ったことがある。(初学者)
- 他のフレームワークで十分フロントのデータの受け渡しやアーキテクチャを理解しており、vueもドキュメントを読めばすぐに応用的な使い方でかける（vueのみ初学者）

### 対象の背景

- そもそも、全くの初心者だと自力でHPの改修・メンテナンスを行うこと自体が難しいので、対象外としたい。
- → Methodわからないです:大泣き:と言ってる人は、そもそも出来る人が居なくなったら、1人でHPをメンテナンスするのは不可能なのでは？という意見
- → 要件定義、開発のHOWを考えるができず、よくわからないコピペプログラミングで後世の担当者が地獄を見るような実装にしたら本末転倒（今のaiesecサーバーがその状態になってしまっている）

以上の理由から「1人でHPメンテナンスが出来る。」というところを最低ラインに引いていいんじゃないかなと思っているのです。



